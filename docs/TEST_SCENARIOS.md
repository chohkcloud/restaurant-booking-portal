# 테스트 시나리오
## Restaurant Booking Portal System

### 📋 문서 정보
- **작성일**: 2025.09.06
- **버전**: v1.0
- **프로젝트**: 식당 예약 포털 시스템
- **테스트 환경**: Chrome 120+, Firefox 120+, Safari 17+

---

## 🧪 테스트 범위

### 기능 테스트
- 사용자 인증 (회원가입, 로그인)
- 레스토랑 검색 및 조회
- 예약 시스템
- 리뷰 시스템
- 관리자 기능

### 비기능 테스트
- 성능 테스트
- 보안 테스트
- 호환성 테스트
- 접근성 테스트

### 테스트 레벨
- **단위 테스트**: 개별 컴포넌트/함수
- **통합 테스트**: API 및 데이터베이스 연동
- **E2E 테스트**: 사용자 플로우 전체
- **시스템 테스트**: 전체 시스템 동작

---

## 👤 사용자 인증 테스트

### TC-001: 회원가입 성공 시나리오

#### 전제조건
- 브라우저가 메인 페이지에 접속됨
- 신규 이메일 주소 준비 (test@example.com)

#### 테스트 단계
1. **Given**: 사용자가 메인 페이지에 있음
2. **When**: 
   - 우측 상단 "로그인" 버튼 클릭
   - "회원가입" 탭 클릭
   - 이름: "홍길동" 입력
   - 이메일: "test@example.com" 입력
   - 전화번호: "010-1234-5678" 입력
   - 비밀번호: "password123" 입력
   - "가입하기" 버튼 클릭
3. **Then**: 
   - 성공 메시지 표시
   - 자동 로그인 처리
   - 사용자 이름이 헤더에 표시됨

#### 예상 결과
```
✅ 회원가입 완료 메시지
✅ 자동 로그인 처리
✅ 헤더에 "홍길동" 표시
✅ 로그인 버튼 → 사용자 이름 변경
```

### TC-002: 회원가입 실패 시나리오 (이메일 중복)

#### 전제조건
- 기존에 등록된 이메일: existing@example.com

#### 테스트 단계
1. **Given**: 로그인 모달이 열려있음
2. **When**: 
   - 기존 이메일로 회원가입 시도
   - 모든 필드 정상 입력
   - "가입하기" 버튼 클릭
3. **Then**: 
   - 에러 메시지 표시: "이미 존재하는 이메일입니다"
   - 회원가입 실패
   - 모달이 닫히지 않음

### TC-003: 로그인 성공 시나리오

#### 테스트 단계
1. **Given**: 등록된 계정 (test@example.com / password123)
2. **When**: 
   - 로그인 모달 오픈
   - 이메일, 비밀번호 입력
   - "로그인" 버튼 클릭
3. **Then**: 
   - 로그인 성공
   - 모달 자동 닫힘
   - 헤더에 사용자 이름 표시

### TC-004: 로그인 실패 시나리오

#### 테스트 단계
1. **Given**: 로그인 모달이 열려있음
2. **When**: 
   - 잘못된 이메일 또는 비밀번호 입력
   - "로그인" 버튼 클릭
3. **Then**: 
   - 에러 메시지 표시: "이메일 또는 비밀번호가 올바르지 않습니다"
   - 로그인 실패
   - 입력 필드 초기화

---

## 🍽️ 레스토랑 검색 및 조회 테스트

### TC-005: 레스토랑 목록 조회

#### 테스트 단계
1. **Given**: 메인 페이지 접속
2. **When**: 
   - "전체보기 →" 버튼 클릭 또는 /restaurants 직접 접속
3. **Then**: 
   - 레스토랑 목록 페이지 로드
   - 레스토랑 카드들이 그리드로 표시
   - 각 카드에 이미지, 이름, 평점, 카테고리 표시

### TC-006: 레스토랑 검색 기능

#### 테스트 단계
1. **Given**: 메인 페이지의 검색창
2. **When**: 
   - 검색어 "한식" 입력
   - "검색" 버튼 클릭 또는 Enter 키
3. **Then**: 
   - /restaurants?search=한식 페이지로 이동
   - 한식 카테고리 레스토랑만 필터링되어 표시
   - 검색 결과 개수 표시

### TC-007: 카테고리별 필터링

#### 테스트 단계
1. **Given**: 메인 페이지 카테고리 그리드
2. **When**: 
   - "🍣 일식" 카테고리 클릭
3. **Then**: 
   - /restaurants?category=일식 페이지로 이동
   - 일식 레스토랑만 필터링되어 표시
   - 선택된 카테고리가 필터 바에 표시

### TC-008: 레스토랑 상세 페이지 조회

#### 테스트 단계
1. **Given**: 레스토랑 목록 또는 검색 결과 페이지
2. **When**: 
   - 특정 레스토랑 카드 클릭
3. **Then**: 
   - /restaurant/[slug] 페이지로 이동
   - 레스토랑 이미지, 정보 표시
   - 메뉴, 리뷰, 매장정보 탭 표시
   - "예약하기" 버튼 표시

### TC-009: 레스토랑 상세 - 탭 네비게이션

#### 테스트 단계
1. **Given**: 레스토랑 상세 페이지
2. **When**: 
   - "⭐ 리뷰" 탭 클릭
3. **Then**: 
   - 리뷰 목록 표시
   - "✨ 리뷰 작성하기" 버튼 표시
   - 기존 리뷰들이 최신순으로 정렬

---

## 📅 예약 시스템 테스트

### TC-010: 예약 페이지 접근 (로그인 상태)

#### 전제조건
- 사용자 로그인 완료

#### 테스트 단계
1. **Given**: 레스토랑 상세 페이지, 로그인 상태
2. **When**: 
   - "📅 예약하기" 버튼 클릭
3. **Then**: 
   - /reservation?restaurant=[slug] 페이지로 이동
   - 레스토랑 정보 카드 표시 (좌측)
   - 예약 폼 카드 표시 (우측)
   - 사용자 정보 자동 입력됨

### TC-011: 예약 페이지 접근 (비로그인 상태)

#### 전제조건
- 사용자 로그아웃 상태

#### 테스트 단계
1. **Given**: 레스토랑 상세 페이지, 비로그인 상태
2. **When**: 
   - "📅 예약하기" 버튼 클릭
3. **Then**: 
   - /reservation?restaurant=[slug] 페이지로 이동
   - 예약자 정보 입력 필드 비어있음
   - 로그인 필요 안내 (선택사항)

### TC-012: 예약 정보 입력 및 확정

#### 테스트 단계
1. **Given**: 예약 페이지 접속, 로그인 상태
2. **When**: 
   - 날짜: "2025년 9월 7일 (토요일)" 선택
   - 시간: "18:30" 선택
   - 인원수: 4명으로 조정
   - 특별 요청: "창가 자리 부탁드립니다" 입력
   - "예약 확정" 버튼 클릭
3. **Then**: 
   - 예약 처리 중 로딩 표시
   - 예약 완료 메시지 표시
   - 이메일 발송 안내 메시지
   - 자동으로 대시보드 페이지로 이동

#### 예상 결과
```
✅ "맛있는 한식당 예약이 완료되었습니다!"
✅ "📧 이메일로 예약 확정 안내를 발송했습니다."
✅ /dashboard 페이지로 리다이렉트
```

### TC-013: 예약 정보 유효성 검증

#### 테스트 단계
1. **Given**: 예약 페이지
2. **When**: 
   - 필수 정보 누락 상태에서 예약 시도
   - 이름, 이메일, 전화번호 중 하나 비워둠
   - "예약 확정" 버튼 클릭
3. **Then**: 
   - "모든 필수 정보를 입력해주세요." 경고 메시지
   - 예약 처리 안됨
   - 누락된 필드에 포커스 이동

### TC-014: 예약 시간 선택 UI

#### 테스트 단계
1. **Given**: 예약 페이지의 시간 선택 섹션
2. **When**: 
   - 시간 버튼들 확인
   - 특정 시간 (예: "19:00") 클릭
3. **Then**: 
   - 11:00~21:30 시간대가 30분 단위로 표시
   - 선택된 시간이 오렌지색으로 강조
   - 다른 시간 선택 시 이전 선택 해제

---

## ⭐ 리뷰 시스템 테스트

### TC-015: 리뷰 작성 (로그인 상태)

#### 전제조건
- 사용자 로그인 완료

#### 테스트 단계
1. **Given**: 레스토랑 상세 페이지 리뷰 탭
2. **When**: 
   - "✨ 리뷰 작성하기" 버튼 클릭
   - 별점: 5점 선택
   - 제목: "정말 맛있어요!" 입력
   - 내용: "음식도 맛있고 서비스도 좋았습니다." 입력
   - "리뷰 등록" 버튼 클릭
3. **Then**: 
   - 리뷰 등록 성공 메시지
   - 모달 자동 닫힘
   - 새로운 리뷰가 목록 최상단에 표시
   - 레스토랑 평점 자동 업데이트

### TC-016: 리뷰 작성 (비로그인 상태)

#### 테스트 단계
1. **Given**: 레스토랑 상세 페이지, 비로그인 상태
2. **When**: 
   - "✨ 리뷰 작성하기" 버튼 클릭
3. **Then**: 
   - 로그인 모달 자동 표시
   - 로그인 후 리뷰 작성 모달 표시

### TC-017: 리뷰 유효성 검증

#### 테스트 단계
1. **Given**: 리뷰 작성 모달
2. **When**: 
   - 별점 선택 안함
   - 내용: "짧은 글" (10자 미만) 입력
   - "리뷰 등록" 버튼 클릭
3. **Then**: 
   - 유효성 검증 에러 메시지
   - "별점을 선택해주세요"
   - "리뷰 내용은 최소 10자 이상 입력해주세요"

### TC-018: 중복 리뷰 방지

#### 전제조건
- 이미 해당 레스토랑에 리뷰를 작성한 사용자

#### 테스트 단계
1. **Given**: 리뷰를 이미 작성한 레스토랑 페이지
2. **When**: 
   - "✨ 리뷰 작성하기" 버튼 클릭
3. **Then**: 
   - "이미 이 레스토랑에 리뷰를 작성하셨습니다" 메시지
   - 또는 기존 리뷰 수정 옵션 제공

---

## 👤 대시보드 테스트

### TC-019: 대시보드 접근

#### 테스트 단계
1. **Given**: 로그인된 사용자
2. **When**: 
   - 헤더의 사용자 이름 클릭
   - 또는 /dashboard 직접 접속
3. **Then**: 
   - 대시보드 페이지 로드
   - 예약 내역, 리뷰 내역 표시
   - 탭 네비게이션 표시

### TC-020: 예약 내역 확인

#### 테스트 단계
1. **Given**: 대시보드의 예약 내역 탭
2. **When**: 
   - 페이지 로드
3. **Then**: 
   - 사용자의 모든 예약 내역 표시
   - 예약 상태별 구분 표시
   - 최신 예약부터 정렬

---

## 👨‍💼 관리자 기능 테스트

### TC-021: 관리자 로그인

#### 테스트 단계
1. **Given**: /admin 페이지 접속
2. **When**: 
   - 관리자 이메일/비밀번호 입력
   - 로그인 버튼 클릭
3. **Then**: 
   - 관리자 대시보드 접근
   - 관리 기능 메뉴 표시

### TC-022: 레스토랑 관리

#### 테스트 단계
1. **Given**: 관리자 대시보드
2. **When**: 
   - "레스토랑 관리" 탭 클릭
   - 새 레스토랑 정보 입력
   - "저장" 버튼 클릭
3. **Then**: 
   - 레스토랑 생성 성공
   - 목록에 새 레스토랑 표시
   - 자동으로 슬러그 생성

---

## 🚀 성능 테스트

### TC-023: 페이지 로딩 성능

#### 테스트 단계
1. **Given**: 브라우저 개발자 도구 Network 탭 열기
2. **When**: 
   - 메인 페이지 새로고침
   - 레스토랑 목록 페이지 접속
   - 레스토랑 상세 페이지 접속
3. **Then**: 
   - 메인 페이지 로딩: < 2초
   - 레스토랑 목록: < 3초
   - 레스토랑 상세: < 2초

#### 성능 기준
```
✅ First Contentful Paint: < 1.5초
✅ Largest Contentful Paint: < 2.5초
✅ Time to Interactive: < 3초
✅ Cumulative Layout Shift: < 0.1
```

### TC-024: API 응답 성능

#### 테스트 단계
1. **Given**: API 엔드포인트들
2. **When**: 각 API 호출
3. **Then**: 응답 시간 측정

#### 성능 기준
```
✅ GET /api/restaurants: < 500ms
✅ GET /api/restaurants/[slug]: < 300ms
✅ POST /api/reservations: < 800ms
✅ POST /api/reviews: < 500ms
```

---

## 🔒 보안 테스트

### TC-025: 인증 우회 시도

#### 테스트 단계
1. **Given**: 비로그인 상태
2. **When**: 
   - /dashboard URL 직접 접근 시도
   - /admin URL 직접 접근 시도
3. **Then**: 
   - 로그인 페이지로 리다이렉트
   - 또는 403 권한 없음 에러

### TC-026: SQL 인젝션 방지

#### 테스트 단계
1. **Given**: 검색 기능
2. **When**: 
   - 검색어에 SQL 구문 입력: `'; DROP TABLE users; --`
3. **Then**: 
   - 정상적인 검색 결과 또는 빈 결과
   - 데이터베이스 에러 없음
   - SQL 구문이 문자열로 처리됨

### TC-027: XSS 방지

#### 테스트 단계
1. **Given**: 리뷰 작성 기능
2. **When**: 
   - 리뷰 내용에 스크립트 태그 입력: `<script>alert('XSS')</script>`
3. **Then**: 
   - 스크립트 실행되지 않음
   - HTML 태그가 이스케이프되어 표시
   - XSS 공격 차단됨

---

## 📱 모바일 호환성 테스트

### TC-028: 반응형 디자인

#### 테스트 환경
- **모바일**: iPhone 14 (390×844), Galaxy S22 (360×800)
- **태블릿**: iPad Air (820×1180)
- **데스크톱**: 1920×1080, 1366×768

#### 테스트 단계
1. **Given**: 각 디바이스 크기로 브라우저 설정
2. **When**: 모든 주요 페이지 확인
3. **Then**: 
   - 레이아웃 정상 표시
   - 텍스트 가독성 유지
   - 버튼 터치 가능 크기 (44px 이상)
   - 가로/세로 스크롤 적절성

### TC-029: 터치 인터페이스

#### 테스트 단계
1. **Given**: 모바일 디바이스에서 접속
2. **When**: 
   - 버튼 터치
   - 스와이프 제스처
   - 확대/축소
3. **Then**: 
   - 터치 반응 정상
   - 호버 효과가 터치에 적합하게 변환
   - 확대/축소 제한 적절

---

## ♿ 접근성 테스트

### TC-030: 키보드 네비게이션

#### 테스트 단계
1. **Given**: 마우스 사용 없이 키보드만 사용
2. **When**: 
   - Tab 키로 네비게이션
   - Enter/Space 키로 버튼 클릭
   - 방향키로 선택 항목 이동
3. **Then**: 
   - 모든 기능 키보드로 접근 가능
   - 포커스 인디케이터 명확히 표시
   - 논리적인 탭 순서

### TC-031: 스크린 리더 지원

#### 테스트 도구
- **Windows**: NVDA
- **macOS**: VoiceOver
- **Android**: TalkBack

#### 테스트 단계
1. **Given**: 스크린 리더 활성화
2. **When**: 페이지 네비게이션
3. **Then**: 
   - 모든 텍스트 정확히 읽음
   - 이미지 alt 텍스트 제공
   - 버튼, 링크 역할 명확히 안내
   - 폼 필드 라벨 연결

---

## 📊 테스트 결과 기록 양식

### 테스트 실행 기록
```
테스트 ID: TC-XXX
테스트명: [테스트 시나리오 이름]
실행일: 2025-09-06
실행자: [테스터 이름]
브라우저: Chrome 120.0.0.0
OS: Windows 11

실행 결과: ✅ Pass / ❌ Fail / ⚠️ Warning
실행 시간: [시작시간] - [종료시간]

상세 결과:
- Step 1: ✅ 성공
- Step 2: ✅ 성공  
- Step 3: ❌ 실패 - [실패 사유]

스크린샷: [첨부파일 경로]
비고: [추가 메모]
```

### 결함 리포트 양식
```
결함 ID: BUG-XXX
발견 테스트: TC-XXX
심각도: High / Medium / Low
우선순위: P1 / P2 / P3

결함 요약: [한 줄 요약]
결함 설명: [상세 설명]

재현 단계:
1. [단계 1]
2. [단계 2]
3. [단계 3]

기대 결과: [예상 결과]
실제 결과: [실제 발생한 결과]

환경 정보:
- 브라우저: [브라우저 정보]
- OS: [운영체제]
- 해상도: [화면 해상도]

첨부 파일: [스크린샷, 로그 파일 등]
```

---

*최종 업데이트: 2025년 9월 6일*  
*버전: v1.0*